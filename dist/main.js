!function(e){function t(t){for(var r,i,s=t[0],c=t[1],l=t[2],p=0,d=[];p<s.length;p++)i=s[p],a[i]&&d.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(u&&u(t);d.length;)d.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={0:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;o.push([403,1]),n()}({403:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"REQUEST_NEW_GIF",function(){return d}),n.d(r,"RECEIVE_NEW_GIF",function(){return f}),n.d(r,"REQUEST_NEW_GIF_ERROR",function(){return m}),n.d(r,"NEW_GIF",function(){return h}),n.d(r,"LOADING_START",function(){return y}),n.d(r,"LOADING_COMPLETE",function(){return g});var a={};n.r(a),n.d(a,"REQUEST_NEW_PAIR",function(){return F}),n.d(a,"LOADING_START",function(){return W}),n.d(a,"LOADING_COMPLETE",function(){return U});n(163);var o=n(5),i=n.n(o),s=n(158),c=n.n(s),l=n(11),u=n.n(l),p=n(29),d=Symbol("REQUEST_NEW_GIF"),f=Symbol("RECEIVE_NEW_GIF"),m=Symbol("REQUEST_NEW_GIF_ERROR"),h=Symbol("NEW_GIF"),y=Symbol("LOADING_START"),g=Symbol("LOADING_COMPLETE");function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){E(e,t,n[t])})}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e,t){switch(t.type){case d:return b({},e,{isLoading:!0,error:null});case f:return b({},e,{isLoading:!1,error:null,imageUrl:t.payload});case m:return b({},e,{isLoading:!1,error:t.payload});default:return e}};function w(){return{type:d}}function _(e){return{type:f,payload:e}}function O(e){return void 0===e&&(e=null),{type:g,payload:{isSuccess:!e,error:e}}}function x(e){return fetch("https://api.giphy.com/v1/gifs/random?api_key="+e).then(function(e){return e.json()}).catch(function(e){throw new Error("Giphy API key is invalid or exceeded its daily / hourly limit.")})}var G=regeneratorRuntime.mark(function e(t,n){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;case 1:return e.next=4,t.put({type:y},"../../../*");case 4:return e.next=6,t.take(d);case 6:return e.sent,e.next=9,t.call(x,n);case 9:return r=e.sent,a=r.data.fixed_width_small_url,e.next=13,t.put(_(a));case 13:return e.next=15,t.put({type:h},"../../../*");case 15:return e.next=17,t.put(O(),"../../../*");case 17:e.next=1;break;case 19:e.next=27;break;case 21:return e.prev=21,e.t0=e.catch(0),e.next=25,t.put((o=e.t0,{type:m,payload:o}));case 25:return e.next=27,t.put(O(e.t0),"../../../*");case 27:case"end":return e.stop()}var o},e,this,[[0,21]])}),N=n(63),S=n.n(N),L=n(83),P=n.n(L),I=n(58),R=n.n(I),T={table:{display:"flex","flex-wrap":"wrap",margin:"0.2em 0.2em 0.2em 0.2em",padding:0,"flex-direction":"column",width:"20em"},cell:{"box-sizing":"border-box","flex-grow":1,width:"100%",overflow:"hidden",padding:"0.2em 0.2em",border:"solid 2px "+R()("slategrey").fade(.5),"border-bottom":"none","background-color":"#f7f7f7",display:"flex","align-items":"center","justify-content":"center","&:last-child":{"border-bottom":"solid 2px "+R()("slategrey").fade(.5)+" !important"}},"image-container":{height:"15em"},image:{width:"100%",height:"100%"}},A=n(162),C=n.n(A);var k=function(e){var t,n;function a(t){var n;return(n=e.call(this,t)||this).state={isLoading:!1,imageUrl:null,error:null},n.componentManager=new p.d(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),{namespace:"io.github.t83714/RandomGif",actionTypes:r,reducer:v,saga:C()(G,t.apiKey),allowedIncomingMulticastActionTypes:[d],namespaceInitCallback:function(e){return{styleSheet:S.a.setup(P()()).createStyleSheet(T,{generateClassName:e.createClassNameGenerator()}).attach()}},namespaceDestroyCallback:function(e){e.styleSheet.detach()}}),n}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this,t=this.componentManager.getNamespaceData().styleSheet.classes;return i.a.createElement("div",{className:t.table},i.a.createElement("div",{className:t.cell},"RandomGif"),i.a.createElement("div",{className:t.cell+" "+t["image-container"]},this.state.imageUrl&&!this.state.isLoading&&!this.state.error&&i.a.createElement("img",{alt:"Gif",src:this.state.imageUrl,className:""+t.image}),(!this.state.imageUrl||this.state.isLoading)&&!this.state.error&&i.a.createElement("p",null,this.state.isLoading?"Requesting API...":"No GIF loaded yet!"),this.state.error&&i.a.createElement("p",null,"Failed to request API: "+this.state.error)),this.props.showButton&&i.a.createElement("div",{className:t.cell+" "},i.a.createElement("button",{onClick:function(){e.componentManager.dispatch(w())},disabled:this.state.isLoading},this.state.isLoading?"Requesting API...":"Get Gif")))},a}(i.a.Component);k.contextType=p.c,k.propTypes={showButton:u.a.bool,apiKey:u.a.string,styles:u.a.object,appContainer:u.a.instanceOf(p.b)},k.defaultProps={showButton:!0,apiKey:"Y4P38sTJAgEBOHP1B3sVs0Jtk01tb6fA"};var M=k,j={NEW_GIF:h,LOADING_START:y,LOADING_COMPLETE:g,REQUEST_NEW_GIF:d},D={requestNewGif:w},F=Symbol("REQUEST_NEW_PAIR"),W=Symbol("LOADING_START"),U=Symbol("LOADING_COMPLETE");function B(){return{type:F}}function K(e){return void 0===e&&(e=null),{type:U,payload:{isSuccess:!e,error:e}}}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){q(e,t,n[t])})}return e}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J=function(e,t){var n;switch(t.type){case j.LOADING_START:return Q({},e,{isLoading:!0,itemsLoading:Q({},e.itemsLoading,(n={},n[t.componentId]=!0,n))});case j.LOADING_COMPLETE:var r,a=t.payload,o=a.isSuccess,i=a.payloadError,s=e.itemsLoading,c=e.error;s=Q({},s,((r={})[t.componentId]=!1,r));var l=!1;return Object.keys(s).forEach(function(e){s[e]&&(l=!0)}),Q({},e,{isLoading:l,error:c||(o?null:i),itemsLoading:s});default:return e}},V=regeneratorRuntime.mark(H);function z(e){throw new Error('"'+e+'" is read-only')}function H(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=!1,n.next=3,e.takeEvery(j.LOADING_START,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=3;break}return n.next=3,e.put({type:W},"../../../*");case 3:case"end":return n.stop()}},n,this)}));case 3:return n.next=5,e.takeEvery(j.LOADING_COMPLETE,regeneratorRuntime.mark(function n(){var r,a,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.select();case 2:if(r=n.sent,a=r.isLoading,o=r.error,a){n.next=9;break}return n.next=8,e.put(K(o),"../../../*");case 8:z("isLoadingStartActionDispatched"),t=!1;case 9:case"end":return n.stop()}},n,this)}));case 5:return n.next=7,e.takeEvery(F,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.put(D.requestNewGif(),"./Gifs/*");case 2:case"end":return t.stop()}},t,this)}));case 7:case"end":return n.stop()}},V,this)}var Y=H,X={table:{display:"flex","flex-wrap":"wrap",margin:"0.2em 0.2em 0.2em 0.2em",padding:0,"flex-direction":"column",width:"41em"},cell:{"box-sizing":"border-box","flex-grow":1,width:"100%",overflow:"hidden",padding:"0.2em 0.2em",border:"solid 2px "+R()("slategrey").fade(.5),"border-bottom":"none","background-color":"#f7f7f7",display:"flex","align-items":"center","justify-content":"center","&:last-child":{"border-bottom":"solid 2px "+R()("slategrey").fade(.5)+" !important"}},"image-container":{height:"15em"},image:{width:"100%",height:"100%"}};var Z=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).state={itemsLoading:{},isLoading:!1,error:null},n.componentManager=new p.d(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),{namespace:"io.github.t83714/RandomGifPair",reducer:J,saga:Y,actionTypes:a,allowedIncomingMulticastActionTypes:[F],namespaceInitCallback:function(e){return{styleSheet:S.a.setup(P()()).createStyleSheet(t.styles?t.styles:X,{generateClassName:e.createClassNameGenerator()}).attach()}},namespaceDestroyCallback:function(e){e.styleSheet.detach()}}),n}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this,t=this.componentManager.getNamespaceData().styleSheet.classes;return i.a.createElement("div",{className:t.table},i.a.createElement("div",{className:t.cell},"RandomGif Pair"),i.a.createElement("div",{className:""+t.cell},i.a.createElement("div",null,i.a.createElement(M,{showButton:!1,apiKey:this.props.apiKey,namespacePrefix:this.componentManager.fullPath+"/Gifs",appContainer:this.componentManager.appContainer})),i.a.createElement("div",null,i.a.createElement(M,{showButton:!1,apiKey:this.props.apiKey,namespacePrefix:this.componentManager.fullPath+"/Gifs",appContainer:this.componentManager.appContainer}))),this.props.showButton&&i.a.createElement("div",{className:t.cell+" "},i.a.createElement("button",{onClick:function(){e.componentManager.dispatch(B())},disabled:this.state.isLoading},this.state.isLoading?"Loading...":"Get Gif Pair")),i.a.createElement(p.a,{namespacePrefix:this.componentManager.fullPath+"/Gifs",pattern:j.NEW_GIF,relativeDispatchPath:"../../../../*",appContainer:this.componentManager.appContainer}),i.a.createElement(p.a,{namespacePrefix:this.componentManager.fullPath+"/Gifs",pattern:function(e){return e.type===j.LOADING_START||e.type===j.LOADING_COMPLETE},relativeDispatchPath:"..",appContainer:this.componentManager.appContainer}))},r}(i.a.Component);Z.contextType=p.c,Z.propTypes={showButton:u.a.bool,apiKey:u.a.string,styles:u.a.object,appContainer:u.a.instanceOf(p.b)},Z.defaultProps={showButton:!0};var $=Z;j.NEW_GIF;c.a.render(i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement(M,null)),i.a.createElement("div",null,i.a.createElement($,null))),document.getElementById("root"))}});
//# sourceMappingURL=main.js.map